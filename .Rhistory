knitr::opts_chunk$set(echo = TRUE)
nyc_demo <- read_csv("nyc_zip_demo.csv")
library(readr)
library(dplyr)
nyc_demo <- read_csv("nyc_zip_demo.csv")
coffee_zip <- read_csv("coffee_zip.csv")
df <- left_join(coffee_zip, nyc_demo)
View(nyc_demo)
library(readr)
library(dplyr)
nyc_demo <- read_csv("nyc_zip_demo.csv")
nyc_demo_more <- read_csv('nyc_zip_demographics.csv')
library(readr)
library(dplyr)
nyc_demo <- read_csv("nyc_zip_demo.csv")
nyc_demo_more <- read_csv('raw_data/nyc_zip_demographics.csv')
nyc_demo <- left_join(nyc_demo, nyc_demo_more)
View(nyc_demo_more)
View(nyc_demo)
library(readr)
library(dplyr)
nyc_demo <- read_csv("nyc_zip_demo.csv")
nyc_demo_more <- read_csv('raw_data/nyc_zip_demographics.csv')
nyc_demo <- left_join(nyc_demo, nyc_demo_more,by = c("Zipcode" = "ZIPCODE"))
coffee_zip <- read_csv("coffee_zip.csv")
df <- left_join(coffee_zip, nyc_demo)
View(df)
View(df)
df <- left_join(coffee_zip, nyc_demo) %>%
mutate(Women_pct = 1 - Men_pct)
df <- left_join(coffee_zip, nyc_demo) %>%
mutate(Women_pct = 100 - Men_pct)
install.packages("strataG")
library(strataG)
df <- read.mega(reviewContent)
library(strataG)
df <- read.mega('YelpNYC/reviewContent')
remove.packages("strataG")
install.packages("RAM")
library(RAM)
df <- read.meta('YelpNYC/reviewContent', sep=",")
library(RAM)
df <- read.meta('YelpNYC/reviewContent')
library(RAM)
df <- read.meta('YelpNYC/metadata')
View(df)
library(RAM)
df <- readLines(file("YelpNYC/metadata", encoding = "UTF-8"))
library(RAM)
df <- readLines(file("YelpNYC/reviewContent", encoding = "UTF-8"))
df <- as.data.frame(df)
View(df)
library(dplyr)
df <- tibble(df)
View(df)
df <- readLines(file("YelpNYC/reviewContent", encoding = "UTF-8"))
df <- tibble(df)
View(df)
df <- readLines(file("YelpNYC/reviewContent", encoding = "UTF-8", split=';')))
View(df)
library(readr)
library(dplyr)
nyc_demo <- read_csv("nyc_zip_demo.csv")
nyc_demo_more <- read_csv('raw_data/nyc_zip_demographics.csv')
nyc_demo <- left_join(nyc_demo, nyc_demo_more,by = c("Zipcode" = "ZIPCODE"))
coffee_zip <- read_csv("coffee_zip.csv")
df <- left_join(coffee_zip, nyc_demo) %>%
mutate(Women_pct = 100 - Men_pct)
View(df)
pc6 <- ggplot(df, aes(x = Poverty_pct, y = Avg_rating,
color = Name)) +
geom_point(alpha = 0.8, radius = 0.5) +
xlab('Poverty Percentage') +
ylab('Average Rating for Coffee Shops') +
labs(caption = 'Data Source: Yelp') +
geom_smooth(method=lm, se=FALSE, linetype="dashed") +
ggtitle('Poverty Percentage vs Average Rating for Coffee') +
theme_linedraw() +
scale_color_manual(values = c("#34afd1", "#f09a56",
"#87dc97")) +
theme(plot.title = element_text(size=14, face="bold", hjust = 0.5),
legend.text = element_text(size=8),
legend.title = element_text(size=8))
pc6
pc7 <- ggplot(df, aes(x = Unemployment_pct, y = Avg_rating,
color = Name)) +
geom_point(alpha = 0.8, radius = 0.5) +
xlab('Unemployment Percentage') +
ylab('Average Rating for Coffee Shops') +
labs(caption = 'Data Source: Yelp') +
geom_smooth(method=lm, se=FALSE, linetype="dashed") +
ggtitle('Unemployment Percentage vs Average Rating for Coffee') +
theme_linedraw() +
scale_color_manual(values = c("#34afd1", "#f09a56",
"#87dc97")) +
theme(plot.title = element_text(size=14, face="bold", hjust = 0.5),
legend.text = element_text(size=8),
legend.title = element_text(size=8))
pc7
pc8 <- ggplot(df, aes(x = Unemployment_pct, y = Poverty_pct,
color = Name)) +
geom_point(alpha = 0.8, radius = 0.5) +
xlab('Unemployment Percentage') +
ylab('Poverty Percentage') +
labs(caption = 'Data Source: Yelp') +
geom_smooth(method=lm, se=FALSE, linetype="dashed") +
ggtitle('Unemployment Percentage vs Poverty Percentage') +
theme_linedraw() +
scale_color_manual(values = c("#34afd1", "#f09a56",
"#87dc97")) +
theme(plot.title = element_text(size=14, face="bold", hjust = 0.5),
legend.text = element_text(size=8),
legend.title = element_text(size=8))
pc8
pc3 <- ggplot(df, aes(x = Population, y = Avg_rating,
color = Name)) +
geom_point(alpha = 0.8, radius = 0.5) +
xlab('Population') +
ylab('Average Rating for Coffee Shops') +
labs(caption = 'Data Source: Yelp') +
geom_smooth(method=lm, se=FALSE, linetype="dashed") +
ggtitle('Population vs Average Rating for Coffee') +
theme_linedraw() +
scale_color_manual(values = c("#34afd1", "#f09a56",
"#87dc97")) +
theme(plot.title = element_text(size=14, face="bold", hjust = 0.5),
legend.text = element_text(size=8),
legend.title = element_text(size=8))
pc3
df <- df %>%
gather(Men_pct, Women_pct,
key = gender, value = value)
library(readr)
library(dplyr)
nyc_demo <- read_csv("nyc_zip_demo.csv")
nyc_demo_more <- read_csv('raw_data/nyc_zip_demographics.csv')
nyc_demo <- left_join(nyc_demo, nyc_demo_more,by = c("Zipcode" = "ZIPCODE"))
coffee_zip <- read_csv("coffee_zip.csv")
df <- left_join(coffee_zip, nyc_demo) %>%
mutate(Women_pct = 100 - Men_pct)
library(ggthemes)
library(ggplot2)
library(tidyr)
pc1 <- ggplot(df, aes(x = Total_Income, y = Avg_rating,
color = Name)) +
geom_point(alpha = 0.8, radius = 0.5) +
xlab('Total Income') +
ylab('Average Rating for Coffee Shops') +
labs(caption = 'Data Source: Yelp') +
geom_smooth(method=lm, se=FALSE, linetype="dashed") +
ggtitle('Total Income vs Average Rating for Coffee') +
theme_linedraw() +
scale_color_manual(values = c("#34afd1", "#f09a56",
"#87dc97")) +
theme(plot.title = element_text(size=14, face="bold", hjust = 0.5),
legend.text = element_text(size=8),
legend.title = element_text(size=8))
pc1
df <- df %>%
gather(Men_pct, Women_pct,
key = gender, value = value)
pc4 <- ggplot(df, aes(x = gender, y = Avg_rating,
color = Name)) +
geom_point(alpha = 0.8, radius = 0.5) +
xlab('Gender Percentage') +
ylab('Average Rating for Coffee Shops') +
labs(caption = 'Data Source: Yelp') +
geom_smooth(method=lm, se=FALSE, linetype="dashed") +
ggtitle('Gender Percentage vs Average Rating for Coffee') +
theme_linedraw() +
scale_color_manual(values = c("#34afd1", "#f09a56",
"#87dc97")) +
theme(plot.title = element_text(size=12, face="bold", hjust = 0.5),
legend.text = element_text(size=8),
legend.title = element_text(size=8))
pc4
pc2 <- ggplot(df, aes(x = gender, y = Avg_rating,
group = gender)) +
geom_boxplot(aes(fill= Name)) +
xlab('Among Most Unsuccessful and Successful Projects') +
ylab('Sentiment Scores') +
labs(caption = 'Kickstart Projects Since 2019') +
ggtitle('Sentiment Score vs Success') +
theme_linedraw() +
theme(plot.title = element_text(size=14, face="bold",
hjust = 0.5),
legend.text = element_text(size=8),
legend.title = element_text(size=8))
pc2
pc2 <- ggplot(df, aes(x = gender, y = Avg_rating,
group = gender)) +
geom_boxplot(aes(fill= gender)) +
xlab('Among Most Unsuccessful and Successful Projects') +
ylab('Sentiment Scores') +
labs(caption = 'Kickstart Projects Since 2019') +
ggtitle('Sentiment Score vs Success') +
theme_linedraw() +
theme(plot.title = element_text(size=14, face="bold",
hjust = 0.5),
legend.text = element_text(size=8),
legend.title = element_text(size=8))
pc2
pc2 <- ggplot(df, aes(x = gender, y = Avg_rating,
group = Name)) +
geom_boxplot(aes(fill= gender)) +
xlab('Among Most Unsuccessful and Successful Projects') +
ylab('Sentiment Scores') +
labs(caption = 'Kickstart Projects Since 2019') +
ggtitle('Sentiment Score vs Success') +
theme_linedraw() +
theme(plot.title = element_text(size=14, face="bold",
hjust = 0.5),
legend.text = element_text(size=8),
legend.title = element_text(size=8))
pc2
pc2 <- ggplot(df, aes(x = Men, y = Avg_rating,
group = Name)) +
geom_boxplot(aes(fill= gender)) +
xlab('Among Most Unsuccessful and Successful Projects') +
ylab('Sentiment Scores') +
labs(caption = 'Kickstart Projects Since 2019') +
ggtitle('Sentiment Score vs Success') +
theme_linedraw() +
theme(plot.title = element_text(size=14, face="bold",
hjust = 0.5),
legend.text = element_text(size=8),
legend.title = element_text(size=8))
pc2
pc2 <- ggplot(df, aes(x = Women, y = Avg_rating,
group = Name)) +
geom_boxplot(aes(fill= gender)) +
xlab('Among Most Unsuccessful and Successful Projects') +
ylab('Sentiment Scores') +
labs(caption = 'Kickstart Projects Since 2019') +
ggtitle('Sentiment Score vs Success') +
theme_linedraw() +
theme(plot.title = element_text(size=14, face="bold",
hjust = 0.5),
legend.text = element_text(size=8),
legend.title = element_text(size=8))
pc2
ggplot(df, mapping = aes(x = Avg_rating, y = ifelse(test = gender == "Men_pct", yes = -value, no = value), fill = gender)) +
geom_col() +
coord_flip() +
theme_minimal() +
scale_y_continuous(labels = abs, limits = max(df$value) * c(-1,1)) +
labs(y = "Population", x = "Top 10 Stem Terms",
caption = 'Data Source: Kickstart Projects since 2019') +
ggtitle('The Pyramid Plot of Terms in Most and Least Successful Project') +
theme_linedraw() +
scale_fill_manual(values = c("#f09a56", "#87dc97")) +
theme(plot.title = element_text(size=10, face="bold",
hjust = 0.5),
legend.text = element_text(size=8),
legend.title = element_text(size=8)) +
facet_wrap(.~gender)
library(readr)
library(dplyr)
nyc_demo <- read_csv("nyc_zip_demo.csv")
nyc_demo_more <- read_csv('raw_data/nyc_zip_demographics.csv')
nyc_demo <- left_join(nyc_demo, nyc_demo_more,by = c("Zipcode" = "ZIPCODE"))
coffee_zip <- read_csv("coffee_zip.csv")
df <- left_join(coffee_zip, nyc_demo) %>%
mutate(Women_pct = 100 - Men_pct)
View(df)
df_gather <- df %>%
gather(White_pct, Black_pct, Native_pct, Asian_pct,
key = race, value = race_value)
df_gather <- coffee_sb %>%
gather(White_pct, Black_pct, Native_pct, Asian_pct,
key = race, value = race_value)
coffee_lm <- df
coffee_lm$Name[coffee_lm$Name == "Dunkin'"] <- 0
coffee_lm$Name[coffee_lm$Name == "Starbucks"] <- 1
coffee_lm$Name[coffee_lm$Name == "Blue Bottle"] <- 2
coffee_sb <- coffee_lm %>% filter(Name == 1)
coffee_dd <- coffee_lm %>% filter(Name == 0)
coffee_bb <- coffee_lm %>% filter(Name == 2)
df_gather <- coffee_sb %>%
gather(White_pct, Black_pct, Native_pct, Asian_pct,
key = race, value = race_value)
pc_race <- ggplot(df_gather, aes(x = race_value, y = Avg_rating,
color = race)) +
geom_point(alpha = 0.8, radius = 0.5) +
xlab('Poverty Percentage') +
ylab('Average Rating for Coffee Shops') +
labs(caption = 'Data Source: Yelp') +
geom_smooth(method=lm, se=FALSE, linetype="dashed") +
ggtitle('Poverty Percentage vs Average Rating for Coffee') +
theme_linedraw() +
scale_color_manual(values = c("#34afd1", "#f09a56",
"#87dc97")) +
theme(plot.title = element_text(size=12, face="bold", hjust = 0.5),
legend.text = element_text(size=8),
legend.title = element_text(size=8))
pc_race
df_gather <- coffee_sb %>%
gather(Men_pct, Women_pct,
key = gender, value = gender_value)
pc_race <- ggplot(df_gather, aes(x = gender_value, y = Avg_rating,
color = gender)) +
geom_point(alpha = 0.8, radius = 0.5) +
xlab('Gender Percentage') +
ylab('Average Rating for Starbucks') +
labs(caption = 'Data Source: Yelp') +
geom_smooth(method=lm, se=FALSE, linetype="dashed") +
ggtitle('Gender Percentage vs Average Rating for Coffee') +
theme_linedraw() +
scale_color_manual(values = c("#34afd1", "#f09a56",
#"#87dc97"
)) +
theme(plot.title = element_text(size=12, face="bold", hjust = 0.5),
legend.text = element_text(size=8),
legend.title = element_text(size=8))
pc_race <- ggplot(df_gather, aes(x = gender_value, y = Avg_rating,
color = gender)) +
geom_point(alpha = 0.8, radius = 0.5) +
xlab('Gender Percentage') +
ylab('Average Rating for Starbucks') +
labs(caption = 'Data Source: Yelp') +
geom_smooth(method=lm, se=FALSE, linetype="dashed") +
ggtitle('Gender Percentage vs Average Rating for Coffee') +
theme_linedraw() +
scale_color_manual(values = c("#34afd1", "#f09a56",
"#87dc97"
)) +
theme(plot.title = element_text(size=12, face="bold", hjust = 0.5),
legend.text = element_text(size=8),
legend.title = element_text(size=8))
pc_race
pc_race <- ggplot(df_gather, aes(x = race_value, y = Avg_rating,
color = race)) +
geom_point(alpha = 0.8, radius = 0.5) +
xlab('Poverty Percentage') +
ylab('Average Rating for Coffee Shops') +
labs(caption = 'Data Source: Yelp') +
geom_smooth(method=lm, se=FALSE, linetype="dashed") +
ggtitle('Poverty Percentage vs Average Rating for Coffee') +
theme_linedraw() +
scale_color_manual(values = c("#34afd1", "#f09a56",
"#87dc97", "ABA9A9")) +
theme(plot.title = element_text(size=12, face="bold", hjust = 0.5),
legend.text = element_text(size=8),
legend.title = element_text(size=8))
pc_race
df_gather <- coffee_sb %>%
gather(White_pct, Black_pct, Native_pct, Asian_pct,
key = race, value = race_value)
pc_race <- ggplot(df_gather, aes(x = race_value, y = Avg_rating,
color = race)) +
geom_point(alpha = 0.8, radius = 0.5) +
xlab('Poverty Percentage') +
ylab('Average Rating for Coffee Shops') +
labs(caption = 'Data Source: Yelp') +
geom_smooth(method=lm, se=FALSE, linetype="dashed") +
ggtitle('Poverty Percentage vs Average Rating for Coffee') +
theme_linedraw() +
scale_color_manual(values = c("#34afd1", "#f09a56",
"#87dc97", "ABA9A9")) +
theme(plot.title = element_text(size=12, face="bold", hjust = 0.5),
legend.text = element_text(size=8),
legend.title = element_text(size=8))
pc_race
pc_race <- ggplot(df_gather, aes(x = race_value, y = Avg_rating,
color = race)) +
geom_point(alpha = 0.8, radius = 0.5) +
xlab('Poverty Percentage') +
ylab('Average Rating for Coffee Shops') +
labs(caption = 'Data Source: Yelp') +
geom_smooth(method=lm, se=FALSE, linetype="dashed") +
ggtitle('Poverty Percentage vs Average Rating for Coffee') +
theme_linedraw() +
scale_color_manual(values = c("#34afd1", "#f09a56",
"#87dc97", "#ABA9A9")) +
theme(plot.title = element_text(size=12, face="bold", hjust = 0.5),
legend.text = element_text(size=8),
legend.title = element_text(size=8))
pc_race
df_gather <- coffee_dd %>%
gather(Men_pct, Women_pct,
key = gender, value = gender_value)
pc_race <- ggplot(df_gather, aes(x = gender_value, y = Avg_rating,
color = gender)) +
geom_point(alpha = 0.8, radius = 0.5) +
xlab('Gender Percentage') +
ylab('Average Rating for the Dunkin') +
labs(caption = 'Data Source: Yelp') +
geom_smooth(method=lm, se=FALSE, linetype="dashed") +
ggtitle('Gender Percentage vs Average Rating for the Dunkin') +
theme_linedraw() +
scale_color_manual(values = c("#34afd1", "#f09a56",
"#87dc97"
)) +
theme(plot.title = element_text(size=12, face="bold", hjust = 0.5),
legend.text = element_text(size=8),
legend.title = element_text(size=8))
pc_race
df_gather <- coffee_bb %>%
gather(Men_pct, Women_pct,
key = gender, value = gender_value)
pc_race <- ggplot(df_gather, aes(x = gender_value, y = Avg_rating,
color = gender)) +
geom_point(alpha = 0.8, radius = 0.5) +
xlab('Gender Percentage') +
ylab('Average Rating for Blue Bottle') +
labs(caption = 'Data Source: Yelp') +
geom_smooth(method=lm, se=FALSE, linetype="dashed") +
ggtitle('Gender Percentage vs Average Rating for Blue Bottle') +
theme_linedraw() +
scale_color_manual(values = c("#34afd1", "#f09a56",
"#87dc97"
)) +
theme(plot.title = element_text(size=12, face="bold", hjust = 0.5),
legend.text = element_text(size=8),
legend.title = element_text(size=8))
pc_race
df_gather <- coffee_dd %>%
gather(White_pct, Black_pct, Native_pct, Asian_pct,
key = race, value = race_value)
pc_race <- ggplot(df_gather, aes(x = race_value, y = Avg_rating,
color = race)) +
geom_point(alpha = 0.8, radius = 0.5) +
xlab('Poverty Percentage') +
ylab('Average Rating for the Dunkin') +
labs(caption = 'Data Source: Yelp') +
geom_smooth(method=lm, se=FALSE, linetype="dashed") +
ggtitle('Poverty Percentage vs Average Rating for the Dunkin') +
theme_linedraw() +
scale_color_manual(values = c("#34afd1", "#f09a56",
"#87dc97", "#ABA9A9")) +
theme(plot.title = element_text(size=12, face="bold", hjust = 0.5),
legend.text = element_text(size=8),
legend.title = element_text(size=8))
pc_race
df_gather <- coffee_bb %>%
gather(White_pct, Black_pct, Native_pct, Asian_pct,
key = race, value = race_value)
pc_race <- ggplot(df_gather, aes(x = race_value, y = Avg_rating,
color = race)) +
geom_point(alpha = 0.8, radius = 0.5) +
xlab('Poverty Percentage') +
ylab('Average Rating for Blue Bottle') +
labs(caption = 'Data Source: Yelp') +
geom_smooth(method=lm, se=FALSE, linetype="dashed") +
ggtitle('Poverty Percentage vs Average Rating for Blue Bottle') +
theme_linedraw() +
scale_color_manual(values = c("#34afd1", "#f09a56",
"#87dc97", "#ABA9A9")) +
theme(plot.title = element_text(size=12, face="bold", hjust = 0.5),
legend.text = element_text(size=8),
legend.title = element_text(size=8))
pc_race
